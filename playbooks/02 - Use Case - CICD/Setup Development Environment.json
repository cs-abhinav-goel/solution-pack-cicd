{
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "Setup Development Environment",
    "aliasName": null,
    "tag": null,
    "description": "Setup the FortiSOAR Prod Content, FortiSOAR Dev Settings source control repositories",
    "isActive": true,
    "debug": false,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/36f63e54-01b1-45f7-bd33-c53dba44b797",
    "versions": [],
    "triggerStep": "\/api\/3\/workflow_steps\/6c6caaa2-f912-4de2-8bc7-60a56214d976",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Clone Repository",
            "description": null,
            "arguments": {
                "arguments": {
                    "org_name": "{{vars.org_name}}",
                    "repo_name": "{{vars.content_repo}}",
                    "repo_type": "Organization",
                    "clone_as_zip": "true"
                },
                "apply_async": false,
                "step_variables": [],
                "pass_parent_env": false,
                "pass_input_record": true,
                "workflowReference": "\/api\/3\/workflows\/9ff46b00-868f-4b67-9a3d-9dca5d636803"
            },
            "status": null,
            "top": "1380",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "24d12a92-953f-40c4-9b60-2f58d846c1f0"
        },
        {
            "@type": "WorkflowStep",
            "name": "Configuration",
            "description": null,
            "arguments": {
                "base_branch": "{{vars.steps.Get_Repositories_Detail.input.baseBranchName}}",
                "content_repo_url": "https:\/\/github.com\/{{vars.steps.Get_Repositories_Detail.input.orgName}}\/{{vars.steps.Get_Repositories_Detail.input.contentRepositoryName}}",
                "dev_settings_url": "https:\/\/github.com\/{{vars.steps.Get_Repositories_Detail.input.orgName}}\/{{vars.steps.Get_Repositories_Detail.input.developmentSettingsRepositoryName}}",
                "organization_name": "{{vars.steps.Get_Repositories_Detail.input.orgName}}"
            },
            "status": null,
            "top": "840",
            "left": "540",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "3a0ba835-842f-413e-9f04-a13f0ea15286"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Import Job",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/3\/import_jobs",
                    "body": "{\n  \"status\": \"Draft\",\n  \"file\": {\n    \"@context\": \"{{vars.steps.Get_Clone_Repo_Zip_File.data['@context']}}\",\n    \"@id\": \"{{vars.steps.Get_Clone_Repo_Zip_File.data['@id']}}\",\n    \"@type\": \"File\",\n    \"uuid\": \"{{vars.steps.Get_Clone_Repo_Zip_File.data.uuid}}\",\n    \"assignee\": \"\",\n    \"id\": \"{{vars.steps.Get_Clone_Repo_Zip_File.data.uuid}}\",\n    \"filename\": \"{{vars.steps.Get_Clone_Repo_Zip_File.data.filename}}\",\n    \"mimeType\": \"application\/zip\"\n  }\n}",
                    "method": "POST"
                },
                "version": "3.2.2",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": []
            },
            "status": null,
            "top": "1650",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "5b076114-6fe9-422a-9856-fd7263bc7469"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Repository Global Variable",
            "description": null,
            "arguments": {
                "params": {
                    "macro": "{{\"cicd_config\"}}",
                    "value": "{{ ({\"organizationName\": vars.organization_name, \"content\": vars.content_repo_url, \"developmentSettings\": vars.dev_settings_url, \"baseBranch\": vars.base_branch,  \"contentRepoName\": vars.content_repo_url.split(\"\/\")[-1], \"devSettingsRepoName\": vars.dev_settings_url.split(\"\/\")[-1]}) | toJSON}}"
                },
                "version": "3.2.3",
                "connector": "cyops_utilities",
                "operation": "updatemacro",
                "operationTitle": "FSR: Create\/Update Global Variables",
                "step_variables": {
                    "cicd_config": "{{vars.result.data.value | toDict}}"
                }
            },
            "status": null,
            "top": "980",
            "left": "540",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "e87161ef-5477-4f2c-b92c-e99f88d13977"
        },
        {
            "@type": "WorkflowStep",
            "name": "Find Apply Latest Content Record",
            "description": null,
            "arguments": {
                "query": {
                    "sort": [],
                    "limit": 30,
                    "logic": "AND",
                    "filters": [
                        {
                            "type": "primitive",
                            "field": "title",
                            "value": "Apply Latest Content",
                            "operator": "eq",
                            "_operator": "eq"
                        }
                    ],
                    "__selectFields": [
                        "id"
                    ]
                },
                "module": "change_management?$limit=30",
                "checkboxFields": true,
                "step_variables": []
            },
            "status": null,
            "top": "2730",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928770",
            "group": null,
            "uuid": "0a1f4cce-cc85-4f28-a753-1635dfd85772"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Clone Repo Zip File",
            "description": null,
            "arguments": {
                "params": {
                    "filename": "{{vars.steps.Clone_Repository.data.path.split('\/')[-1]}}",
                    "file_path": "{{vars.steps.Clone_Repository.data.path}}",
                    "create_attachment": false
                },
                "version": "3.2.3",
                "connector": "cyops_utilities",
                "operation": "upload_file_to_cyops",
                "operationTitle": "File: Upload a file in the system and Create an Attachment",
                "step_variables": []
            },
            "status": null,
            "top": "1515",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "bc581f19-951e-4921-8878-d43c29615188"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Import Job",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/3\/import_jobs\/{{vars.steps.Create_Import_Job.data.uuid}}?__selectFields=errorMessage,status,progressPercent,file,currentlyImporting,options",
                    "body": "",
                    "method": "GET"
                },
                "version": "3.2.2",
                "do_until": {
                    "delay": 5,
                    "retries": 5,
                    "condition": "{{vars.result.data.status == \"Reviewing\"}}"
                },
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": []
            },
            "status": null,
            "top": "1920",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "981430f8-94be-493a-8741-5d2134c1f181"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Repositories Detail",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Provide Repository Configuration Details",
                        "description": "Provide the following repository configuration inputs",
                        "inputVariables": [
                            {
                                "name": "orgName",
                                "type": "string",
                                "label": "Organization Name",
                                "tooltip": "Provide the GitHub organization name",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": true,
                                "_nameTouched": true,
                                "defaultValue": null,
                                "_previousName": "organizationName",
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "contentRepositoryName",
                                "type": "string",
                                "label": "Content Repository Name",
                                "tooltip": "Content Repository stores FortiSOAR configurations such as Dashboards, Reports, Playbooks, Connectors etc.",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": false,
                                "defaultValue": "fortisoar-prod-content",
                                "_previousName": "",
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "developmentSettingsRepositoryName",
                                "type": "string",
                                "label": "Development Settings Repository Name",
                                "tooltip": "Development Settings Repository stores connector configurations and any other data or content that is applicable only for development environment.",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": false,
                                "defaultValue": "fortisoar-dev-settings",
                                "_previousName": "",
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "baseBranchName",
                                "type": "string",
                                "label": "Base Branch Name",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": false,
                                "defaultValue": "main",
                                "_previousName": "",
                                "useRecordFieldDefault": false
                            }
                        ]
                    }
                },
                "record": "{{vars.input.records[0]['@id']}}",
                "agent_id": null,
                "resources": "change_management",
                "owner_detail": {
                    "isAssigned": false
                },
                "isRecordLinked": true,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Setup",
                            "primary": true,
                            "step_iri": "\/api\/3\/workflow_steps\/3a0ba835-842f-413e-9f04-a13f0ea15286"
                        }
                    ],
                    "duplicateOption": false
                },
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "inline_channel_list": [],
                "external_channel_list": [],
                "unauthenticated_input": false
            },
            "status": null,
            "top": "700",
            "left": "540",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "da701fcd-a2c0-4b1d-9c9e-55fe7502add8"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Source Control Details",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/wf\/api\/dynamic-variable\/?name=cicd_config",
                    "body": "",
                    "method": "GET"
                },
                "version": "3.2.3",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": {
                    "cicd_config": "{% if vars.result.data['hydra:member'] | length %}{{vars.result.data['hydra:member'][0].value | toDict }}{% else %}\"\"{% endif %}"
                }
            },
            "status": null,
            "top": "300",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "34168bd5-ca8e-43ae-b83c-2347771fd052"
        },
        {
            "@type": "WorkflowStep",
            "name": "Has CICD Config Global Variable Exist",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "Yes",
                        "step_iri": "\/api\/3\/workflow_steps\/b982b6af-17ff-4578-9712-01db38ca30bf",
                        "condition": "{{ vars.cicd_config | length > 0 }}",
                        "step_name": "Repository Details"
                    },
                    {
                        "option": "Yes",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/da701fcd-a2c0-4b1d-9c9e-55fe7502add8",
                        "step_name": "Get Repositories Detail"
                    }
                ]
            },
            "status": null,
            "top": "570",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "c4528277-ce36-4c42-9d45-38fa1ef09eb7"
        },
        {
            "@type": "WorkflowStep",
            "name": "Import Zip File",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/import\/{{vars.steps.Create_Import_Job.data.uuid}}",
                    "body": "",
                    "method": "PUT"
                },
                "version": "3.2.1",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": []
            },
            "status": null,
            "top": "2325",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "f1366835-975d-4a49-b6f4-f26761ae111e"
        },
        {
            "@type": "WorkflowStep",
            "name": "Map GitHub Username",
            "description": null,
            "arguments": {
                "arguments": [],
                "apply_async": false,
                "step_variables": [],
                "pass_input_record": true,
                "workflowReference": "\/api\/3\/workflows\/d539f6cc-69ca-44ec-a622-e233aa51970a"
            },
            "status": null,
            "top": "435",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "4d5697fa-bb92-4997-9f3f-2d9d2ed5739d"
        },
        {
            "@type": "WorkflowStep",
            "name": "Modify Configuration Option",
            "description": null,
            "arguments": {
                "config_options": "{% set uvalues = [] %}{% set record_set = {} %}{% set op = {} %}{% set import_job = {} %}{% for value in vars.steps.Get_Import_Job.data.options.recordSets.get('values') %}{% if value.type == \"export_templates\" %}{% set _ = value.pop(\"include\") %}{% set _ = value.pop(\"name\") %}{% set _ = value.update({\"name\": \"Export Templates\"}) %}{% set _ = value.update({\"include\": true}) %}{% endif %}{% set _ = uvalues.append(value) %}{% endfor %}{% set _ = record_set.update({\"values\": uvalues, \"include\": true}) %}{% for k, v in vars.steps.Get_Import_Job.data.options.items() %}{% if k == \"recordSets\" %}{% set _ = op.update({\"recordSets\": record_set}) %}{% else %}{% set _  = op.update({k: v}) %}{% endif %}{% endfor %}{% for k, v in vars.steps.Get_Import_Job.data.items() %}{% if k == \"options\" %}{% set _ = import_job.update({\"options\": op}) %}{% else %}{% set _ = import_job.update({k: v}) %}{% endif %}{% endfor %}{{import_job}}"
            },
            "status": null,
            "top": "2055",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "8a0a753c-e61d-40d1-87ce-d4a946ea265b"
        },
        {
            "@type": "WorkflowStep",
            "name": "Repository Details",
            "description": null,
            "arguments": {
                "org_name": "{{vars.cicd_config.organizationName or vars.organization_name}}",
                "content_repo": "{{vars.cicd_config.content.split('\/')[-1] or vars.steps.Get_Repositories_Detail.input.contentRepositoryName}}",
                "dev_settings_repo": "{{vars.cicd_config.developmentSettings.split('\/')[-1] or vars.steps.Get_Repositories_Detail.input.developmentSettingsRepositoryName}}"
            },
            "status": null,
            "top": "1110",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "b982b6af-17ff-4578-9712-01db38ca30bf"
        },
        {
            "@type": "WorkflowStep",
            "name": "Set Latest Deployed Date",
            "description": null,
            "arguments": {
                "for_each": {
                    "item": "{{vars.steps.Find_Apply_Latest_Content_Record}}",
                    "__bulk": true,
                    "parallel": false,
                    "condition": "",
                    "batch_size": 100
                },
                "resource": {
                    "lastBuildDeployedOn": "{{arrow.utcnow().int_timestamp}}"
                },
                "_showJson": true,
                "operation": "Append",
                "collection": "{{vars.item['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/change_management",
                "fieldOperation": [],
                "step_variables": []
            },
            "status": null,
            "top": "2865",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "ca0a4bc0-ffa3-4f98-adf6-5d2e025bf437"
        },
        {
            "@type": "WorkflowStep",
            "name": "Set Status as Complete",
            "description": null,
            "arguments": {
                "resource": {
                    "status": "\/api\/3\/picklists\/eb7e156f-f599-4cf6-a12b-5484c1bc414d"
                },
                "operation": "Append",
                "collection": "{{vars.input.records[0]['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/change_management",
                "fieldOperation": [],
                "step_variables": []
            },
            "status": null,
            "top": "2595",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "2dc1798f-4d1e-499e-bc7d-afeffe1e970e"
        },
        {
            "@type": "WorkflowStep",
            "name": "Set Status In Progress",
            "description": null,
            "arguments": {
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p>Initiating Source Control Setup<\/p>",
                    "records": ""
                },
                "resource": {
                    "status": "\/api\/3\/picklists\/7f0263bf-29ab-4453-aefe-41d20f0fe9c3"
                },
                "operation": "Append",
                "collection": "{{vars.input.records[0]['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/change_management",
                "fieldOperation": [],
                "step_variables": []
            },
            "status": null,
            "top": "165",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "fbf8da9c-cadf-4d77-8fdb-034385a7f9f7"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "route": "7db9596d-cb3f-42dd-82a3-f4ab4cdf16d0",
                "resources": [
                    "change_management"
                ],
                "inputVariables": [],
                "step_variables": {
                    "input": {
                        "params": [],
                        "records": "{{vars.input.records}}"
                    }
                },
                "displayConditions": {
                    "change_management": {
                        "sort": [],
                        "limit": 30,
                        "logic": "AND",
                        "filters": [
                            {
                                "type": "object",
                                "field": "type",
                                "value": "\/api\/3\/picklists\/b43deb65-1edc-482b-b20e-1fed06bbc01c",
                                "_value": {
                                    "@id": "\/api\/3\/picklists\/b43deb65-1edc-482b-b20e-1fed06bbc01c",
                                    "itemValue": "Setup"
                                },
                                "operator": "eq"
                            },
                            {
                                "type": "primitive",
                                "field": "title",
                                "value": "Setup the Development Environment",
                                "operator": "eq",
                                "_operator": "eq"
                            },
                            {
                                "type": "object",
                                "field": "status",
                                "value": "\/api\/3\/picklists\/cc6dc0fe-4a49-44e7-af30-8a0fbeacd293",
                                "_value": {
                                    "@id": "\/api\/3\/picklists\/cc6dc0fe-4a49-44e7-af30-8a0fbeacd293",
                                    "display": "Pending",
                                    "itemValue": "Pending"
                                },
                                "operator": "eq"
                            }
                        ]
                    }
                },
                "executeButtonText": "Execute",
                "noRecordExecution": false,
                "singleRecordExecution": false
            },
            "status": null,
            "top": "30",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/f414d039-bb0d-4e59-9c39-a8f1e880b18a",
            "group": null,
            "uuid": "6c6caaa2-f912-4de2-8bc7-60a56214d976"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start Import Job Option Generation",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/import\/{{vars.steps.Create_Import_Job.data.uuid}}",
                    "body": "",
                    "method": "GET"
                },
                "version": "3.2.2",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": []
            },
            "status": null,
            "top": "1785",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "2573e7e8-78de-4504-b461-343663de7803"
        },
        {
            "@type": "WorkflowStep",
            "name": "Update Development Record Result",
            "description": null,
            "arguments": {
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p class=\"mp-tile-description muted-80\"><strong>- Identified source control repositories names as follows: <\/strong><\/p>\n<ul class=\"font-size-13 muted-80\">\n<li><em>Production Content: <\/em><a href=\"https:\/\/github.com\/{{vars.org_name}}\/{{vars.content_repo}}\" target=\"_blank\" rel=\"noopener\">{{vars.content_repo}}<\/a><\/li>\n<li><em>Development Settings: <\/em><a href=\"https:\/\/github.com\/{{vars.org_name}}\/{{vars.dev_settings_repo}}\" target=\"_blank\" rel=\"noopener\">{{vars.dev_settings_repo}}<\/a><\/li>\n<\/ul>",
                    "records": "",
                    "parentstepid": "\/api\/3\/workflow_steps\/b18cb44c-0425-4a09-9438-7f0f455a4c24"
                },
                "resource": {
                    "results": "<p class=\"mp-tile-description muted-80\"><strong>- Identified source control repositories names as follows: <\/strong><\/p>\n<ul class=\"font-size-13 muted-80\">\n<li><em>Production Content: <\/em><a href=\"https:\/\/github.com\/{{vars.org_name}}\/{{vars.content_repo}}\" target=\"_blank\" rel=\"noopener\">https:\/\/github.com\/{{vars.org_name}}\/{{vars.content_repo}}<\/a><\/li>\n<li><em>Development Settings: <\/em><a href=\"https:\/\/github.com\/{{vars.org_name}}\/{{vars.dev_settings_repo}}\" target=\"_blank\" rel=\"noopener\">https:\/\/github.com\/{{vars.org_name}}\/{{vars.dev_settings_repo}}<\/a><\/li>\n<\/ul>"
                },
                "operation": "Append",
                "collection": "{{vars.input.records[0]['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/change_management",
                "fieldOperation": [],
                "step_variables": []
            },
            "status": null,
            "top": "1245",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "f160b84d-d350-4927-96bb-12e18f10288e"
        },
        {
            "@type": "WorkflowStep",
            "name": "Update Import Job",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/3\/import_jobs\/{{vars.config_options.uuid}}",
                    "body": "{{vars.config_options}}",
                    "method": "PUT"
                },
                "version": "3.2.3",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": []
            },
            "status": null,
            "top": "2190",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "a85a3f36-2fc6-4a16-ba13-4bfd65d3ab58"
        },
        {
            "@type": "WorkflowStep",
            "name": "Wait for Publish",
            "description": null,
            "arguments": {
                "rule": {
                    "actions": [
                        {
                            "type": "resume_playbook",
                            "enabled": true,
                            "channel_uuid": "e2ce87c2-c55a-11ec-9d64-0242ac120002"
                        }
                    ],
                    "is_active": true,
                    "event_source": "crudhub"
                },
                "type": "TimeBased",
                "delay": {
                    "days": 0,
                    "hours": 0,
                    "weeks": 0,
                    "minutes": 1,
                    "seconds": 0
                }
            },
            "status": null,
            "top": "2460",
            "left": "218",
            "stepType": "\/api\/3\/workflow_step_types\/6832e556-b9c7-497a-babe-feda3bd27dbf",
            "group": null,
            "uuid": "5087be1c-abc1-4e3d-9df9-b2ce480a50d7"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Add GitHub Username -> Has CICD Config Global Variable Exist",
            "targetStep": "\/api\/3\/workflow_steps\/c4528277-ce36-4c42-9d45-38fa1ef09eb7",
            "sourceStep": "\/api\/3\/workflow_steps\/4d5697fa-bb92-4997-9f3f-2d9d2ed5739d",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "f40b2bcb-109d-4152-b10c-4aa04a22ded7"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Clone Repository -> Get Clone Repo Zip File",
            "targetStep": "\/api\/3\/workflow_steps\/bc581f19-951e-4921-8878-d43c29615188",
            "sourceStep": "\/api\/3\/workflow_steps\/24d12a92-953f-40c4-9b60-2f58d846c1f0",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "9e660c34-9115-46a1-ae9a-b4a2e2df00f2"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Copy of Repository Details -> Create Repository Global Variable",
            "targetStep": "\/api\/3\/workflow_steps\/e87161ef-5477-4f2c-b92c-e99f88d13977",
            "sourceStep": "\/api\/3\/workflow_steps\/3a0ba835-842f-413e-9f04-a13f0ea15286",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "9bfeb01e-5282-40c5-9f8c-b7ab6bb2b858"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create Import Job -> Start Import Job Option Generation",
            "targetStep": "\/api\/3\/workflow_steps\/2573e7e8-78de-4504-b461-343663de7803",
            "sourceStep": "\/api\/3\/workflow_steps\/5b076114-6fe9-422a-9856-fd7263bc7469",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "5e40b6dc-2174-4395-8b9f-91af296f63ae"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create Repository Global Variable -> Repository Details1",
            "targetStep": "\/api\/3\/workflow_steps\/b982b6af-17ff-4578-9712-01db38ca30bf",
            "sourceStep": "\/api\/3\/workflow_steps\/e87161ef-5477-4f2c-b92c-e99f88d13977",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "ea466774-04b4-44d8-9a9c-a88136a74cc2"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Find Apply Latest Content Record -> Update Latest Deployed Date",
            "targetStep": "\/api\/3\/workflow_steps\/ca0a4bc0-ffa3-4f98-adf6-5d2e025bf437",
            "sourceStep": "\/api\/3\/workflow_steps\/0a1f4cce-cc85-4f28-a753-1635dfd85772",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "d53eed28-3fa2-4eca-9d78-72ed3735aebb"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Clone Repo Zip File -> Create Import Job",
            "targetStep": "\/api\/3\/workflow_steps\/5b076114-6fe9-422a-9856-fd7263bc7469",
            "sourceStep": "\/api\/3\/workflow_steps\/bc581f19-951e-4921-8878-d43c29615188",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "7ed0a969-132b-4b5b-8240-2c53f34b90f2"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Import Job -> Modify Configuration Option",
            "targetStep": "\/api\/3\/workflow_steps\/8a0a753c-e61d-40d1-87ce-d4a946ea265b",
            "sourceStep": "\/api\/3\/workflow_steps\/981430f8-94be-493a-8741-5d2134c1f181",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "5e618c0e-9c9a-4210-abf9-7f6cd4b61b16"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Repositories Detail -> Copy of Repository Details",
            "targetStep": "\/api\/3\/workflow_steps\/3a0ba835-842f-413e-9f04-a13f0ea15286",
            "sourceStep": "\/api\/3\/workflow_steps\/da701fcd-a2c0-4b1d-9c9e-55fe7502add8",
            "label": "Setup",
            "isExecuted": false,
            "group": null,
            "uuid": "4245f8db-04d5-474f-ae47-062314331ce6"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Source Control Details -> Add GitHub Username",
            "targetStep": "\/api\/3\/workflow_steps\/4d5697fa-bb92-4997-9f3f-2d9d2ed5739d",
            "sourceStep": "\/api\/3\/workflow_steps\/34168bd5-ca8e-43ae-b83c-2347771fd052",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "c95d9fcd-e84a-414c-a6a0-d7928023bd59"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Has CICD Config Global Variable Exist -> Get Repositories Detail",
            "targetStep": "\/api\/3\/workflow_steps\/da701fcd-a2c0-4b1d-9c9e-55fe7502add8",
            "sourceStep": "\/api\/3\/workflow_steps\/c4528277-ce36-4c42-9d45-38fa1ef09eb7",
            "label": "Yes",
            "isExecuted": false,
            "group": null,
            "uuid": "d2892e9e-af05-4553-b3ca-6ef788398260"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Has CICD Config Global Variable Exist -> Repository Details",
            "targetStep": "\/api\/3\/workflow_steps\/b982b6af-17ff-4578-9712-01db38ca30bf",
            "sourceStep": "\/api\/3\/workflow_steps\/c4528277-ce36-4c42-9d45-38fa1ef09eb7",
            "label": "Yes",
            "isExecuted": false,
            "group": null,
            "uuid": "38fff50b-a6ed-41b8-88a5-b357924b2126"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Import Zip File -> Wait for Publish",
            "targetStep": "\/api\/3\/workflow_steps\/5087be1c-abc1-4e3d-9df9-b2ce480a50d7",
            "sourceStep": "\/api\/3\/workflow_steps\/f1366835-975d-4a49-b6f4-f26761ae111e",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "898361b5-33f5-420a-8f40-22b83eadf02d"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Modify Configuration Option -> Update Import Job",
            "targetStep": "\/api\/3\/workflow_steps\/a85a3f36-2fc6-4a16-ba13-4bfd65d3ab58",
            "sourceStep": "\/api\/3\/workflow_steps\/8a0a753c-e61d-40d1-87ce-d4a946ea265b",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "8d6e2ad3-a783-4a2a-bbc0-afc749b633c8"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Repository Details -> Update Development Record Result",
            "targetStep": "\/api\/3\/workflow_steps\/f160b84d-d350-4927-96bb-12e18f10288e",
            "sourceStep": "\/api\/3\/workflow_steps\/b982b6af-17ff-4578-9712-01db38ca30bf",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "3b27ab91-2eeb-45ce-b8a9-1fc31b4d6583"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start Import Job Option Generation -> Get Import Job",
            "targetStep": "\/api\/3\/workflow_steps\/981430f8-94be-493a-8741-5d2134c1f181",
            "sourceStep": "\/api\/3\/workflow_steps\/2573e7e8-78de-4504-b461-343663de7803",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "eb20cd35-6954-4f82-b259-de2eb2400ff5"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> Update Status In Progress",
            "targetStep": "\/api\/3\/workflow_steps\/fbf8da9c-cadf-4d77-8fdb-034385a7f9f7",
            "sourceStep": "\/api\/3\/workflow_steps\/6c6caaa2-f912-4de2-8bc7-60a56214d976",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "a7e40e88-e920-4b09-bead-365e8d436e91"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Development Record Result -> Clone Repository",
            "targetStep": "\/api\/3\/workflow_steps\/24d12a92-953f-40c4-9b60-2f58d846c1f0",
            "sourceStep": "\/api\/3\/workflow_steps\/f160b84d-d350-4927-96bb-12e18f10288e",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "1a42efd7-2f6d-4dca-b556-1c26ed4ec59b"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Import Job -> Import Zip File",
            "targetStep": "\/api\/3\/workflow_steps\/f1366835-975d-4a49-b6f4-f26761ae111e",
            "sourceStep": "\/api\/3\/workflow_steps\/a85a3f36-2fc6-4a16-ba13-4bfd65d3ab58",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "605bc8fe-c791-42a7-a318-5b28640aa5bd"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Status as Complete -> Find Apply Latest Content Record",
            "targetStep": "\/api\/3\/workflow_steps\/0a1f4cce-cc85-4f28-a753-1635dfd85772",
            "sourceStep": "\/api\/3\/workflow_steps\/2dc1798f-4d1e-499e-bc7d-afeffe1e970e",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "d2d64bfc-7853-41fd-b2c4-d678ea7a64f0"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Status In Progress -> Get Source Control Details",
            "targetStep": "\/api\/3\/workflow_steps\/34168bd5-ca8e-43ae-b83c-2347771fd052",
            "sourceStep": "\/api\/3\/workflow_steps\/fbf8da9c-cadf-4d77-8fdb-034385a7f9f7",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "38043e94-176b-47e8-a2e2-8c6d113c9d8c"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Wait for Publish -> Update Status as Complete",
            "targetStep": "\/api\/3\/workflow_steps\/2dc1798f-4d1e-499e-bc7d-afeffe1e970e",
            "sourceStep": "\/api\/3\/workflow_steps\/5087be1c-abc1-4e3d-9df9-b2ce480a50d7",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "65ab0452-5454-4ef4-96c1-5f4daa3299ec"
        }
    ],
    "groups": [],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "83ef811d-d0c5-4e54-88b3-0ded13bfff30",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": [
        "ManualTrigger",
        "CICD"
    ]
}
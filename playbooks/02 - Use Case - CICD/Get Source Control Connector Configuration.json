{
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "Get Source Control Connector Configuration",
    "aliasName": null,
    "tag": null,
    "description": "Get the current user source control connector configuration details to perform the Source Control actions",
    "isActive": true,
    "debug": false,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/4c58fed3-9e16-451a-9528-0be2b71acda4",
    "versions": [],
    "triggerStep": "\/api\/3\/workflow_steps\/2b47f4ef-a7fe-4687-9a9c-0125328078bb",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Get Config ID",
            "description": null,
            "arguments": {
                "is_username_map": "true",
                "github_connector_config": "{{vars.steps.Get_GitHub_Connector_Configurations.data.configuration | json_query(\"[?config.username=='\"+vars.logged_in_user[0].gitUsername +\"']\")}}"
            },
            "status": null,
            "top": "840",
            "left": "120",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "1e800f1f-fbed-481d-8403-cce03a5b2360"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "step_variables": {
                    "input": {
                        "params": []
                    }
                }
            },
            "status": null,
            "top": "30",
            "left": "300",
            "stepType": "\/api\/3\/workflow_step_types\/b348f017-9a94-471f-87f8-ce88b6a7ad62",
            "group": null,
            "uuid": "2b47f4ef-a7fe-4687-9a9c-0125328078bb"
        },
        {
            "@type": "WorkflowStep",
            "name": "Is Connector Config For Logged in User",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "Yes",
                        "step_iri": "\/api\/3\/workflow_steps\/1e800f1f-fbed-481d-8403-cce03a5b2360",
                        "condition": "{{ vars.current_user_github_connector_config | length > 0 }}",
                        "step_name": "Get Config ID"
                    },
                    {
                        "option": "No",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/9c79781a-e1f0-42c8-95a2-71b88cfb39b6",
                        "step_name": "Specify GitHUb Username"
                    }
                ]
            },
            "status": null,
            "top": "705",
            "left": "135",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "398eb4d1-7f50-4691-92cd-87c9cef30a71"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get GitHub Connector Configurations",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/integration\/connectors\/github\/1.0.0\/?format=json",
                    "body": "",
                    "method": "POST"
                },
                "version": "3.2.3",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": {
                    "current_user_github_connector_config": "{{vars.steps.Get_GitHub_Connector_Configurations.data.configuration | json_query(\"[?config.username=='\"+vars.logged_in_user[0].gitUsername +\"']\")}}"
                }
            },
            "status": null,
            "top": "560",
            "left": "140",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "799732ce-d8c1-4fe2-baf2-fe51bea1db6c"
        },
        {
            "@type": "WorkflowStep",
            "name": "Specify GitHUb Username",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Warning: Map GitHub User",
                        "description": "GitHub user name is not mapped with logged in user or connector is not configured for logged user.\nPlease map github username by executing \"Map GitHub Username\" action or configured the connector for logged in user",
                        "inputVariables": []
                    }
                },
                "record": "",
                "owner_detail": {
                    "isAssigned": false
                },
                "isRecordLinked": false,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Ok",
                            "primary": true,
                            "step_iri": "\/api\/3\/workflow_steps\/bf7fee03-f0af-4103-b760-7b3bbb6b06e6"
                        }
                    ],
                    "duplicateOption": false
                },
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "inline_channel_list": [],
                "external_channel_list": [],
                "unauthenticated_input": false
            },
            "status": null,
            "top": "840",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "9c79781a-e1f0-42c8-95a2-71b88cfb39b6"
        },
        {
            "@type": "WorkflowStep",
            "name": "Is GitHub User Map",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "Yes",
                        "step_iri": "\/api\/3\/workflow_steps\/799732ce-d8c1-4fe2-baf2-fe51bea1db6c",
                        "condition": "{{ vars.logged_in_user[0].gitUsername | length > 0 }}",
                        "step_name": "Get GitHub Connector Configurations"
                    },
                    {
                        "option": "No",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/9c79781a-e1f0-42c8-95a2-71b88cfb39b6",
                        "step_name": "Specify GitHUb Username"
                    }
                ]
            },
            "status": null,
            "top": "435",
            "left": "300",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "a3a89e21-742a-484b-a1c9-03fb7eefde0f"
        },
        {
            "@type": "WorkflowStep",
            "name": "Return Output",
            "description": null,
            "arguments": {
                "is_username_map": "false"
            },
            "status": null,
            "top": "975",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "bf7fee03-f0af-4103-b760-7b3bbb6b06e6"
        },
        {
            "@type": "WorkflowStep",
            "name": "Configuration",
            "description": null,
            "arguments": {
                "logged_in_user_uuid": "{{(vars.request.currentUser | fromIRI).uuid}}"
            },
            "status": null,
            "top": "165",
            "left": "300",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "fc9bd7c2-5384-402a-921b-1001a3699af9"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get FSR User Detials",
            "description": null,
            "arguments": {
                "params": {
                    "iri": "\/api\/3\/people?$limit=300&$orderby=%2Bfirstname,%2Blastname,-modifyDate",
                    "body": "",
                    "method": "GET"
                },
                "version": "3.2.3",
                "connector": "cyops_utilities",
                "operation": "make_cyops_request",
                "operationTitle": "FSR: Make FortiSOAR API Call",
                "step_variables": {
                    "logged_in_user": "{{vars.steps.Get_FSR_User_Detials.data['hydra:member'] | json_query(\"[?contains(uuid,'\"+vars.logged_in_user_uuid+\"')]\")}}"
                }
            },
            "status": null,
            "top": "300",
            "left": "300",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "ffda924f-af0c-4471-b164-c3266e9792e0"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Configuration -> Get FSR User Detials",
            "targetStep": "\/api\/3\/workflow_steps\/ffda924f-af0c-4471-b164-c3266e9792e0",
            "sourceStep": "\/api\/3\/workflow_steps\/fc9bd7c2-5384-402a-921b-1001a3699af9",
            "label": null,
            "isExecuted": false,
            "uuid": "845b990f-cd6f-47d3-81c2-e3bd6dc198d9"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> Configuration",
            "targetStep": "\/api\/3\/workflow_steps\/fc9bd7c2-5384-402a-921b-1001a3699af9",
            "sourceStep": "\/api\/3\/workflow_steps\/2b47f4ef-a7fe-4687-9a9c-0125328078bb",
            "label": null,
            "isExecuted": false,
            "uuid": "55107162-7fd9-4997-9712-c9f97bd09253"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get FSR User Detials -> Is GitHub User Map",
            "targetStep": "\/api\/3\/workflow_steps\/a3a89e21-742a-484b-a1c9-03fb7eefde0f",
            "sourceStep": "\/api\/3\/workflow_steps\/ffda924f-af0c-4471-b164-c3266e9792e0",
            "label": null,
            "isExecuted": false,
            "uuid": "b36d018e-2e35-40ee-9ebf-b1ef8c7d14c7"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Is GitHub User Map -> Specify GitHUb Username",
            "targetStep": "\/api\/3\/workflow_steps\/9c79781a-e1f0-42c8-95a2-71b88cfb39b6",
            "sourceStep": "\/api\/3\/workflow_steps\/a3a89e21-742a-484b-a1c9-03fb7eefde0f",
            "label": "No",
            "isExecuted": false,
            "uuid": "070ac1dd-61bb-47f6-836b-4389db145f12"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Is GitHub User Map -> Get GitHub Connector Configurations",
            "targetStep": "\/api\/3\/workflow_steps\/799732ce-d8c1-4fe2-baf2-fe51bea1db6c",
            "sourceStep": "\/api\/3\/workflow_steps\/a3a89e21-742a-484b-a1c9-03fb7eefde0f",
            "label": "Yes",
            "isExecuted": false,
            "uuid": "61c62d96-f1fa-4db3-b8cf-03d9dd3b5584"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Specify GitHUb Username -> Return Output",
            "targetStep": "\/api\/3\/workflow_steps\/bf7fee03-f0af-4103-b760-7b3bbb6b06e6",
            "sourceStep": "\/api\/3\/workflow_steps\/9c79781a-e1f0-42c8-95a2-71b88cfb39b6",
            "label": "Ok",
            "isExecuted": false,
            "uuid": "a5b4ce0b-a382-49a7-aab4-eaf9507dfef6"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get GitHub Connector Configurations -> Is Connector Config For Logged in User",
            "targetStep": "\/api\/3\/workflow_steps\/398eb4d1-7f50-4691-92cd-87c9cef30a71",
            "sourceStep": "\/api\/3\/workflow_steps\/799732ce-d8c1-4fe2-baf2-fe51bea1db6c",
            "label": null,
            "isExecuted": false,
            "uuid": "5890bc7d-fdd5-420b-ad13-efa111316522"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Is Connector Config For Logged in User -> Get Config ID",
            "targetStep": "\/api\/3\/workflow_steps\/1e800f1f-fbed-481d-8403-cce03a5b2360",
            "sourceStep": "\/api\/3\/workflow_steps\/398eb4d1-7f50-4691-92cd-87c9cef30a71",
            "label": "Yes",
            "isExecuted": false,
            "uuid": "a12bc146-a384-4124-9b2b-28af7009a333"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Is Connector Config For Logged in User -> Specify GitHUb Username",
            "targetStep": "\/api\/3\/workflow_steps\/9c79781a-e1f0-42c8-95a2-71b88cfb39b6",
            "sourceStep": "\/api\/3\/workflow_steps\/398eb4d1-7f50-4691-92cd-87c9cef30a71",
            "label": "No",
            "isExecuted": false,
            "uuid": "ef75f2b2-2404-4ee3-8e7c-cc36eedf8ae1"
        }
    ],
    "groups": [],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "3fab13c8-12f6-47f0-89b2-e1de3c24d91d",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": [
        "CICD"
    ]
}